"use strict";(self.webpackChunkpterodactyl=self.webpackChunkpterodactyl||[]).push([[3671],{303:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var o=t(4848),i=t(8453);const s={slug:"/guides/mounts"},r="Using Mounts",l={id:"documentation/guides/mounts",title:"Using Mounts",description:"Mounts is a feature that allows administrators to mount other directories from the host file-system into a Server's container.",source:"@site/docs/documentation/guides/mounts.md",sourceDirName:"documentation/guides",slug:"/guides/mounts",permalink:"/pterodactyl-documentation/docs/guides/mounts",draft:!1,unlisted:!1,editUrl:"https://github.com/QuintenQVD0/pterodactyl-documentation/blob/main/docs/documentation/guides/mounts.md",tags:[],version:"current",frontMatter:{slug:"/guides/mounts"},sidebar:"DocsSidebar",previous:{title:"Guides",permalink:"/pterodactyl-documentation/docs/guides"},next:{title:"Upgrading PHP",permalink:"/pterodactyl-documentation/docs/guides/php_upgrade"}},a={},d=[{value:"Wings Configuration",id:"wings-configuration",level:2},{value:"Panel Configuration",id:"panel-configuration",level:2},{value:"Creating a Mount",id:"creating-a-mount",level:3},{value:"Assigning a Mount to a Server",id:"assigning-a-mount-to-a-server",level:3},{value:"Example Mount",id:"example-mount",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"using-mounts",children:"Using Mounts"}),"\n",(0,o.jsx)(n.p,{children:"Mounts is a feature that allows administrators to mount other directories from the host file-system into a Server's container."}),"\n",(0,o.jsx)(n.h2,{id:"wings-configuration",children:"Wings Configuration"}),"\n",(0,o.jsx)(n.p,{children:"For security reasons it is not possible to mount directories on a node by default. Directories that should be mountable have to be specified explicitly in the Wings configuration."}),"\n",(0,o.jsxs)(n.p,{children:["In the Wings configuration file (",(0,o.jsx)(n.code,{children:"/etc/pterodactyl/config.yml"}),") the ",(0,o.jsx)(n.code,{children:"allowed_mounts"})," field is used to list mountable directories. The listed directories and all their subdirectories can be mounted."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",metastring:'title="/etc/pterodactyl/config.yml"',children:"allowed_mounts:\n- /example\n"})}),"\n",(0,o.jsx)(n.p,{children:"You have to restart Wings to apply new changes to your Wings config."}),"\n",(0,o.jsx)(n.h2,{id:"panel-configuration",children:"Panel Configuration"}),"\n",(0,o.jsx)(n.p,{children:"You have to configure mounts in admin Panel in order to use them with your servers. They consist of a source pad on the node and a target path where it will be mounted in the container."}),"\n",(0,o.jsx)(n.admonition,{title:"Path in the container",type:"warning",children:(0,o.jsxs)(n.p,{children:["Mounts cannot be mounted to or inside of ",(0,o.jsx)(n.code,{children:"/home/container"})," or any subdirectory of it, nor can you cross-mount servers such as Server A's directory into Server B."]})}),"\n",(0,o.jsx)(n.h3,{id:"creating-a-mount",children:"Creating a Mount"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["In the admin Panel go to ",(0,o.jsx)(n.strong,{children:"Mounts"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Create a new mount."}),"\n",(0,o.jsxs)(n.li,{children:["Fill in the details as required.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),": Name for your mount."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Description"}),": Description for your mount."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Source"}),": The absolute path to the folder or files on the Node machine."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Target"}),": The absolute path where the mount will be placed inside of your server, can ",(0,o.jsx)(n.strong,{children:"not"})," include ",(0,o.jsx)(n.code,{children:"/home/container"})," in the path."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Read Only"}),": Whether the mount will be read-only for the servers using it."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"User Mountable"}),": Whether to allow users to self mount this mount."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["After creating the mount, you are required to add both ",(0,o.jsx)(n.strong,{children:"Eggs"})," and ",(0,o.jsx)(n.strong,{children:"Nodes"})," that this mount may be used on."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{title:"Mounts used by multiple servers",type:"warning",children:(0,o.jsxs)(n.p,{children:["All servers using the same mounts will ",(0,o.jsx)(n.strong,{children:"only"})," share their contents when they are on the same node. Mounts are not synchronized between nodes."]})}),"\n",(0,o.jsx)(n.h3,{id:"assigning-a-mount-to-a-server",children:"Assigning a Mount to a Server"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"In the admin Panel navigate to the server you would like to use a mount with"}),"\n",(0,o.jsx)(n.li,{children:"Go to the mounts page"}),"\n",(0,o.jsxs)(n.li,{children:["Click the ",(0,o.jsx)(n.strong,{children:"+"})," button"]}),"\n",(0,o.jsx)(n.li,{children:"Restart the server"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The files of the mount should become available in the target path in the container. You can temporarily change your server startup command to ",(0,o.jsx)(n.code,{children:"ls <mount target>"}),", which should output the contents of the mount if configured correctly."]}),"\n",(0,o.jsx)(n.admonition,{title:"Mounts cannot be accessed",type:"warning",children:(0,o.jsx)(n.p,{children:"Mounts do not appear in the Panel's file manager, nor are they accessible via SFTP. However, the server itself will be able to see and use the mounts."})}),"\n",(0,o.jsx)(n.h3,{id:"example-mount",children:"Example Mount"}),"\n",(0,o.jsxs)(n.p,{children:["The example mount below is stored in the path ",(0,o.jsx)(n.code,{children:"/var/lib/pterodactyl/mounts"}),", which we add to the Wings ",(0,o.jsx)(n.code,{children:"config.yml"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",metastring:'title="/etc/pterodactyl/config.yml"',children:"allowed_mounts:\n  - /var/lib/pterodactyl/mounts\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(5157).A+"",width:"601",height:"581"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},5157:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/gmod_mount_example-f77deb4c39113b9b9d4c04d4698f576c.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r});var o=t(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}}}]);