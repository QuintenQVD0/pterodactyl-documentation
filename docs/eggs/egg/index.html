<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-community/creating_eggs/creating_a_custom_egg" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Creating a Custom Egg | Pterodactyl</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://quintenqvd0.github.io/pterodactyl-documentation/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://quintenqvd0.github.io/pterodactyl-documentation/img/social-card.png"><meta data-rh="true" property="og:url" content="https://quintenqvd0.github.io/pterodactyl-documentation/docs/eggs/egg/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating a Custom Egg | Pterodactyl"><meta data-rh="true" name="description" content="You should not edit existing services or options that ship with the Panel. Each upgrade we push can make minor"><meta data-rh="true" property="og:description" content="You should not edit existing services or options that ship with the Panel. Each upgrade we push can make minor"><link data-rh="true" rel="icon" href="/pterodactyl-documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/eggs/egg/"><link data-rh="true" rel="alternate" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/eggs/egg/" hreflang="en"><link data-rh="true" rel="alternate" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/eggs/egg/" hreflang="x-default"><link rel="stylesheet" href="/pterodactyl-documentation/assets/css/styles.4d3251cc.css">
<script src="/pterodactyl-documentation/assets/js/runtime~main.e7095da8.js" defer="defer"></script>
<script src="/pterodactyl-documentation/assets/js/main.a5fef7b9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><b> Stand with Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://www.savethechildren.org/us/where-we-work/ukraine">Donate</a> <a target="_blank" rel="noopener noreferrer" href="https://razomforukraine.org/">Today</a></b></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pterodactyl-documentation/"><div class="navbar__logo"><img src="/pterodactyl-documentation/img/pterry.svg" alt="Pterodactyl" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pterodactyl-documentation/img/pterry.svg" alt="Pterodactyl" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Pterodactyl</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/pterodactyl-documentation/docs/project/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pterodactyl-documentation/docs/community/">Community Guides</a><a href="https://discord.gg/pterodactyl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/community/">Community Guides</a><button aria-label="Collapse sidebar category &#x27;Community Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/about/">Community Guides and Tutorials</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/community/panel/">Panel Installation</a><button aria-label="Collapse sidebar category &#x27;Panel Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/panel/install/centos7/">CentOS 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/panel/install/centos8/">CentOS 8, Rocky Linux 8, AlmaLinux 8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/panel/install/debian/">Debian 11 &amp; 12</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/community/wings/">Wings Installation</a><button aria-label="Collapse sidebar category &#x27;Wings Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/wings/install/centos7/">CentOS 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/wings/install/centos8/">CentOS 8, Rocky Linux 8, AlmaLinux 8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/wings/install/debian/">Debian 11 &amp; 12</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/pterodactyl-documentation/docs/eggs/">Creating Eggs</a><button aria-label="Collapse sidebar category &#x27;Creating Eggs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pterodactyl-documentation/docs/eggs/egg/">Creating a Custom Egg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/eggs/image/">Creating a Custom Docker Image</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/games/">Game Configuration</a><button aria-label="Collapse sidebar category &#x27;Game Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/games/minecraft/">Minecraft</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/community/tutorials/">Tutorials</a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/tutorials/node/">Creating a New Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/community/tutorials/artisan/">Artisan CLI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/customization/">Customization</a><button aria-label="Collapse sidebar category &#x27;Customization&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/customization/panel/">Building Panel Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/customization/wings/">Building Wings</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pterodactyl-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pterodactyl-documentation/docs/eggs/"><span itemprop="name">Creating Eggs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating a Custom Egg</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="creating-a-custom-egg">Creating a Custom Egg</h1>
<admonition type="warning"><p>You should not edit existing services or options that ship with the Panel. Each upgrade we push can make minor
changes to these, and you&#x27;ll lose any changes you&#x27;ve made.</p></admonition>
<p>The first thing you&#x27;ll need to do is create a new service. In this case, the name and description speak for themselves.
The <code>Folder Name</code> <em>must be a unique name</em> not being used by any other service, and should only
contain letters, numbers, underscores, and dashes. This is the name of the folder where the daemon will be storing
the service options on the daemon.</p>
<p>The default start command is also required, however it can be changed per-option.</p>
<h2 id="create-new-option">Create New Option</h2>
<p>After creating the service, in the bottom right of the page you should see a button titled <code>New Egg</code>, press it.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Select-8e79c64a10ff2aa11cab8111e57b2a57.png" width="1764" height="1119"></p>
<p>You will be taken to a new service option page which is where most of the configuration happens. The first thing
you need to do is select your service that you created previously from the <code>Associated Nest</code> dropdown.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Process_Management-a5ac20f1939515ce95691a821c35fc8c.png" width="1765" height="1125"></p>
<p>After that, enter an Option Name to describe it, in this case I am using <code>Widget</code>. You will also need to provide a
<em>valid</em> docker image, as well as a start command to be assigned to servers under this service option (remember, this
can be tweaked per-server if needed).</p>
<p><em>Docker images must be specifically designed to work with Pterodactyl Panel.</em> You should read more about that in
our <a href="/pterodactyl-documentation/docs/eggs/image">Creating a Docker Image</a> guide.</p>
<h2 id="the-pterodactyl-install-procces">The Pterodactyl Install Procces</h2>
<admonition type="warning"><p>Please be aware of how the pterodactyl install process works!</p></admonition>
<pre><code>1. Spin up install container
    Creates a new container using an install image which runs as root.
    Uses a volume mount on `/mnt/server` for the server files, which is the working directory during installation.
    The volume will be later mounted as `/home/container` for the server container. Any files outside of `/mnt/server` will be gone after installation.
    The installation script can set up everything that&#x27;s required to run the server, such as writing files, creating directories, or compiling apps.
    It is regularly used to just download the files required, such as server files and configs.
    
2. Stop and destroy install container

3. Start a new container with the server files in /home/container
    This is where the server is is actually ran, without root privileges.
    Any dependencies installed during the install process are gone.
    The container that is started should have everything you need.
    No packages can be installed. Any required dependencies must exist in the used Docker image.
</code></pre>
<h2 id="configure-process-management">Configure Process Management</h2>
<p>This is perhaps the most important step in this service option configuration, as this tells the Daemon how to run everything.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Process_Management-a5ac20f1939515ce95691a821c35fc8c.png" width="1765" height="1125"></p>
<p>The first field you&#x27;ll encounter is <code>Copy Settings From</code>. The default selection is <code>None</code>. That is expected, and okay.
This dropdown is discussed at the end of this article.</p>
<h3 id="stop-command">Stop Command</h3>
<p>Next, you&#x27;ll encounter <code>Stop Command</code> and, as the name implies, this should be the command used to safely stop the
option. For some games, this is <code>stop</code> or <code>end</code>. Certain programs and games don&#x27;t have a specified stop command, so
you can enter <code>^C</code> to have the daemon execute a <code>SIGINT</code> to end the process.</p>
<h3 id="log-storage">Log Storage</h3>
<p>Logs are competely handeled by the daemon now and use the docker logs to output the complete output from the server.
This can be set like below.</p>
<pre><code class="language-json">{}
</code></pre>
<h3 id="configuration-files">Configuration Files</h3>
<p>The next block is one of the most complex blocks, the <code>Configuration Files</code> descriptor. The Daemon will process this
block prior to booting the server to ensure all of the required settings are defined and set correctly.</p>
<pre><code class="language-json">{
    &quot;server.properties&quot;: {
        &quot;parser&quot;: &quot;properties&quot;,
        &quot;find&quot;: {
            &quot;server-ip&quot;: &quot;0.0.0.0&quot;,
            &quot;enable-query&quot;: &quot;true&quot;,
            &quot;server-port&quot;: &quot;{{server.build.default.port}}&quot;,
            &quot;query.port&quot;: &quot;{{server.build.default.port}}&quot;
        }
    }
}
</code></pre>
<p>In this example, we are telling the Daemon to read <code>server.properties</code> in <code>/home/container</code>. Within this block, we
define a <code>parser</code>, in this case <code>properties</code> but the following are <a href="https://github.com/pterodactyl/wings/blob/develop/parser/parser.go#L25-L30">valid parsers</a>:</p>
<ul>
<li><code>file</code> â€” This parser goes based on matching the beginning of lines, and not a specific property like the other five.
Avoid using this parser if possible.</li>
<li><code>yaml</code> (supports <code>*</code> notation)</li>
<li><code>properties</code></li>
<li><code>ini</code></li>
<li><code>json</code> (supports <code>*</code> notation)</li>
<li><code>xml</code></li>
</ul>
<admonition type="tip"><p>If you want to use egg non stock variables in the configuration parser you must reference them as <code>{{server.build.env.ENVNAME}}</code> or just <code>{{env.ENVNAME}}</code>. Do not forget to to replace <code>ENVNAME</code> with the actual environment name you have setup.</p></admonition>
<p>Once you have defined a parser, we then define a <code>find</code> block which tells the Daemon what specific elements to find
and replace. In this example, we have provided four separate items within the <code>server.properties</code> file that we want to
find and replace to the assigned values. You can use either an exact value, or define a specific server setting from
the <code>server.json</code> file. In this case, we&#x27;re assigning the default server port to be used as the <code>server-port</code> and
<code>query.port</code>. <strong>These placeholders are case sensitive, and should have no spaces in them.</strong></p>
<p>You can have multiple files listed here, the Daemon will process them in parallel before starting the server. When
using <code>yaml</code> or <code>json</code> you can use more advanced searching for elements.</p>
<pre><code class="language-json">{
    &quot;config.yml&quot;: {
        &quot;parser&quot;: &quot;yaml&quot;,
        &quot;find&quot;: {
            &quot;listeners[0].query_enabled&quot;: true,
            &quot;listeners[0].query_port&quot;: &quot;{{server.build.default.port}}&quot;,
            &quot;listeners[0].host&quot;: &quot;0.0.0.0:{{server.build.default.port}}&quot;,
            &quot;servers.*.address&quot;: {
                &quot;127.0.0.1&quot;: &quot;{{config.docker.interface}}&quot;,
                &quot;localhost&quot;: &quot;{{config.docker.interface}}&quot;
            }
        }
    }
}
</code></pre>
<p>In this example, we are parsing <code>config.yml</code> using the <code>yaml</code> parser. The first three find items are simply assigning
ports and IPs for the first listener block. The last one, <code>servers.*.address</code> uses wildcard matching to match any items
within the <code>servers</code> block, and then finding each <code>address</code> block for those items.</p>
<admonition title="v-pre" type="note"><p>An advanced feature of this file configuration is the ability to define multiple find and replace statements for a
single matching line. In this case, we are looking for either <code>127.0.0.1</code> or <code>localhost</code> and replacing them with the
docker interface defined in the configuration file using <code>{{config.docker.interface}}</code>.</p></admonition>
<h4 id="file-parser">File Parser</h4>
<p>The file parser replaces the whole line that you are trying to edit. So you have to use it like this:</p>
<pre><code class="language-json">{
    &quot;main/server.cfg&quot;: {
        &quot;parser&quot;: &quot;file&quot;,
        &quot;find&quot;: {
            &quot;seta sv_hostname&quot;: &quot;seta sv_hostname \&quot;{{env.SERVER_NAME}}\&quot;&quot;,
            &quot;seta sv_maxClients&quot;: &quot;seta sv_maxClients \&quot;{{env.SERVER_MAXCLIENTS}}\&quot;&quot;,
            &quot;seta rconPassword&quot;: &quot;seta rconPassword \&quot;{{env.RCON_PASSWORD}}\&quot;&quot;,
            &quot;seta g_password&quot;: &quot;seta g_password \&quot;{{env.SERVER_PASSWORD}}\&quot;&quot;,
            &quot;Map&quot;: &quot;Map {{env.SERVER_MAP}}&quot;
        }
    }
}
</code></pre>
<p>The <code>&quot;</code> on the right side are escaped with a <code>\</code> because else they would break the json syntax for the parser.</p>
<h3 id="start-configuration">Start Configuration</h3>
<p>The last block to configure is the <code>Start Configuration</code> for servers running using this service option.</p>
<pre><code class="language-json">{
    &quot;done&quot;: &quot;)! For help, type &quot;
}
</code></pre>
<p>In the example block above, we define <code>done</code> as the entire line, or part of a line that indicates a server is done
starting, and is ready for players to join. When the Daemon sees this output, it will mark the server as <code>ON</code> rather
than <code>STARTING</code>.</p>
<p>If your application has multiple messages that mean that it is fully startup then you can also do it like this:</p>
<pre><code class="language-json">{
  &quot;done&quot;:[
    &quot;change this text 1&quot;,
    &quot;change this text 2&quot;
  ]
}
</code></pre>
<p>That concludes basic service option configuration.</p>
<h2 id="copy-settings-from">Copy Settings From</h2>
<p>As mentioned above, there is a unique <code>Copy Settings From</code> dropdown when adding a new option. This gives you the
ability to, as the name suggests, copy settings defined above from a different option.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Copy_Settings_From-9b31dd4f1a081206ee909bf07524f8f8.png" width="840" height="616"></p>
<p>In the panel, we use this to copy settings that remain the same between similar service options, such as many of the
Minecraft options.</p>
<p>For example, lets look at the <code>Sponge (SpongeVanilla)</code> service option.</p>
<p>As you can see, it as been told to copy settings from <code>Vanilla Minecraft</code>. This means that any of the fields that are
left blank will inherit from the assigned parent. We then define a specific <code>userInteraction</code> line that is different in
Sponge compared to Vanilla, but tell it that everything else should remain the same.</p>
<p><em>Please note that <code>Copy Settings From</code> does not support nested copies, you can only copy from a single parent,
and that parent <strong>must not be copying from another option.</strong></em></p>
<h2 id="egg-variables">Egg Variables</h2>
<p>One of the great parts of the Egg Variables is the ability to define specific variables that users and/or admins can
control to tweak different settings without letting users modify the startup command. To create new variables, or edit
existing ones, visit the new service option you created, and click the <code>Variables</code> tab at the top of the page. Lets take
a look at an example variable that we can create.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Variables-9cdba1e3dc42cdbb2b066442a5afdbd1.png" width="1765" height="1124"></p>
<admonition title="v-pre" type="note"><p>The name and description are rather self-explanitory, so I&#x27;ll skip down to the <code>Environment Variable</code> box. This should
be an Alpha-Numeric name with underscores, and should be uppercase. This will be the name of the environment variable
which can be accessed in the startup command as <code>{{WOOZLE_WOO}}</code>, within file modifications as <code>{{env.WOOZLE_WOO}}</code>, or
just <code>${WOOZLE_WOO}</code> in any shell scripts (it is passed through in the environment). We also define a default value for
this environment variable in this example, but it is not required to do so.</p></admonition>
<p>The next section is <code>Permissions</code>, which is a dropdown with two options: <code>Users Can View</code> and <code>Users Can Edit</code>.</p>
<ul>
<li><code>Users Can View</code> â€” allows a user to view the field on the front-end, as well as the assigned value of that variable.
They will be able to see it replaced in their startup command.</li>
<li><code>Users Can Edit</code> â€” allows a user to edit the value of the variable, for example the name of their <code>server.jar</code> file
if running Minecraft.</li>
</ul>
<p>You should use caution here, even if you assign neither of the permissions it does not mean that the value will be
hidden. Crafty users will still be able to get the environment on their server. In most cases this is simply hiding
it from the user, and then used within the Dockerfile to perform actions, thus it is not important for the user to see.</p>
<p>Finally, you will need to define some input rules to validate the value against. In this example, we use
<code>required|string|between:1,10</code>, which means the field is <code>required</code>, must be a <code>string</code>, and must be between <code>1</code> and
<code>10</code> characters in length. You can find <a href="https://laravel.com/docs/5.6/validation#available-validation-rules">all of the available validation rules</a>
on the Laravel website. You can also use ReGEX based validation by using the <code>regex:</code> rule flag. For example,
<a href="https://regex101.com/r/k4oEOn/1"><code>required|regex:/^([\w\d._-]+)(\.jar)$/</code></a> will require the field, and will match the
regex as any letters or numbers (<code>\w\d</code>) including underscore (<code>_</code>), periods (<code>.</code>), and dashes (<code>-</code>) ending in <code>.jar</code>.</p>
<p>They will then be visible when managing the startup for a server in both the Admin CP and on the Front-End.</p>
<p><img src="/pterodactyl-documentation/assets/images/Pterodactyl_Create_New_Egg_Startup-6deb812b25652925db88ede9db29d193.png" width="1906" height="988"></p>
<h2 id="list-of-default-variables">List of default variables</h2>
<p>The default variables are always accessible to all eggs and don&#x27;t have to be created separately. They can be used in the egg startup, install script, or the configuration file parser.</p>
<table><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>TZ</td><td>Time Zone</td><td><code>Etc/UTC</code></td></tr><tr><td>STARTUP</td><td>Startup command of the egg</td><td><code>java -Xms128M -Xmx{{SERVER_MEMORY}}M -jar {{SERVER_JARFILE}}</code></td></tr><tr><td>SERVER_MEMORY</td><td>Memory available for the server in MB</td><td><code>512</code></td></tr><tr><td>SERVER_IP</td><td>Default ip of the server</td><td><code>127.0.0.1</code></td></tr><tr><td>SERVER_PORT</td><td>Primary Server Port</td><td><code>27015</code></td></tr><tr><td>P_SERVER_LOCATION</td><td>Location of the server</td><td><code>Example City</code></td></tr><tr><td>P_SERVER_UUID</td><td>UUID of the server</td><td><code>539fdca8-4a08-4551-a8d2-8ee5475b50d9</code></td></tr><tr><td>P_SERVER_ALLOCATION_LIMIT</td><td>Limit of allocations allowed for the server</td><td><code>0</code></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/QuintenQVD0/pterodactyl-documentation/blob/main/docs/community/creating_eggs/creating_a_custom_egg.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pterodactyl-documentation/docs/eggs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating Eggs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pterodactyl-documentation/docs/eggs/image/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Creating a Custom Docker Image</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-new-option" class="table-of-contents__link toc-highlight">Create New Option</a></li><li><a href="#the-pterodactyl-install-procces" class="table-of-contents__link toc-highlight">The Pterodactyl Install Procces</a></li><li><a href="#configure-process-management" class="table-of-contents__link toc-highlight">Configure Process Management</a><ul><li><a href="#stop-command" class="table-of-contents__link toc-highlight">Stop Command</a></li><li><a href="#log-storage" class="table-of-contents__link toc-highlight">Log Storage</a></li><li><a href="#configuration-files" class="table-of-contents__link toc-highlight">Configuration Files</a></li><li><a href="#start-configuration" class="table-of-contents__link toc-highlight">Start Configuration</a></li></ul></li><li><a href="#copy-settings-from" class="table-of-contents__link toc-highlight">Copy Settings From</a></li><li><a href="#egg-variables" class="table-of-contents__link toc-highlight">Egg Variables</a></li><li><a href="#list-of-default-variables" class="table-of-contents__link toc-highlight">List of default variables</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"><li class="footer__item">
                <a>
                  <img src="https://raw.githubusercontent.com/QuintenQVD0/pterodactyl-documentation/main/static/img/banner_logo.png" alt="" width="300" height="72">
                </a>
                <p>
                Since 2015 PterodactylÂ® has been delivering robust, performant, and secure software that allows individuals, networks, and hosting companies to run game servers at scale; easily. Best of all? No exorbitant monthly costs.<br><br>
                Take the plunge today and discover why thousands of users trust PterodactylÂ® to manage their game servers. 
                </p>
              </li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/matthewpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://paypal.me/PterodactylSoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://discord.gg/pterodactyl" target="_blank" rel="noreferrer noopener" aria-label="">
                  <img src="https://raw.githubusercontent.com/QuintenQVD0/pterodactyl-documentation/main/static/img/discord.png" alt="" width="280" height="85">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">MIT Licensed | Pterodactyl Â© 2015-2024 Dane Everitt & contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>