<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/panel/additional_configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Additional Configuration | Pterodactyl</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://quintenqvd0.github.io/pterodactyl-documentation/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://quintenqvd0.github.io/pterodactyl-documentation/img/social-card.png"><meta data-rh="true" property="og:url" content="https://quintenqvd0.github.io/pterodactyl-documentation/docs/panel/configuration/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Additional Configuration | Pterodactyl"><meta data-rh="true" name="description" content="Backups"><meta data-rh="true" property="og:description" content="Backups"><link data-rh="true" rel="icon" href="/pterodactyl-documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/panel/configuration/"><link data-rh="true" rel="alternate" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/panel/configuration/" hreflang="en"><link data-rh="true" rel="alternate" href="https://quintenqvd0.github.io/pterodactyl-documentation/docs/panel/configuration/" hreflang="x-default"><link rel="stylesheet" href="/pterodactyl-documentation/assets/css/styles.4d3251cc.css">
<script src="/pterodactyl-documentation/assets/js/runtime~main.e7095da8.js" defer="defer"></script>
<script src="/pterodactyl-documentation/assets/js/main.a7dfd95c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><b> Stand with Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://www.savethechildren.org/us/where-we-work/ukraine">Donate</a> <a target="_blank" rel="noopener noreferrer" href="https://razomforukraine.org/">Today</a></b></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pterodactyl-documentation/"><div class="navbar__logo"><img src="/pterodactyl-documentation/img/pterry.svg" alt="Pterodactyl" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pterodactyl-documentation/img/pterry.svg" alt="Pterodactyl" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Pterodactyl</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pterodactyl-documentation/docs/project/">Documentation</a><a class="navbar__item navbar__link" href="/pterodactyl-documentation/docs/community/">Community Guides</a><a href="https://discord.gg/pterodactyl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/project/">Project Information</a><button aria-label="Collapse sidebar category &#x27;Project Information&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/project/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/project/about/">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/project/terms/">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/project/community/">Community Standards</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/pterodactyl-documentation/docs/panel/">Panel</a><button aria-label="Collapse sidebar category &#x27;Panel&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/panel/install/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/panel/webserver/">Webserver Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pterodactyl-documentation/docs/panel/configuration/">Additional Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/panel/updating/">Updating the Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/panel/troubleshooting/">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/panel/legacy_upgrade/">Legacy Upgrades</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/wings/">Wings</a><button aria-label="Collapse sidebar category &#x27;Wings&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/wings/install/">Installing Wings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/wings/upgrading/">Upgrading Wings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/wings/migrating/">Migrating to Wings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/wings/configuration/">Additional Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/tutorials/">Tutorials</a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/project/mysql/">Setting up MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/tutorials/ssl/">Creating SSL Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/tutorials/docker/">Dockerized versions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/pterodactyl-documentation/docs/guides/">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/guides/mounts/">Using Mounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pterodactyl-documentation/docs/guides/php_upgrade/">Upgrading PHP</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pterodactyl-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pterodactyl-documentation/docs/panel/"><span itemprop="name">Panel</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Additional Configuration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="additional-configuration">Additional Configuration</h1>
<h2 id="backups">Backups</h2>
<p>Pterodactyl Panel allows users to create backups of their servers. In order to create backups, a backup storage method has to be configured.</p>
<p>When changing Pterodactyl Panel&#x27;s backup storage method, users may still download or delete existing backups from the prior storage driver. In the instance of migrating from S3 to local backups, S3 credentials must remain configured after switching to the local backup storage method.</p>
<h3 id="using-local-backups">Using Local Backups</h3>
<p>By default, Pterodactyl Panel uses local storage via Wings for backups. That said, this method of backup storage can be explicitly set with the following configuration in the <code>.env</code> file:</p>
<pre><code class="language-bash"># Sets your panel to use local storage via Wings for backups
APP_BACKUP_DRIVER=wings
</code></pre>
<p>Do note that, when using local storage via Wings, the destination for backups is set in Wings&#x27; <code>config.yml</code> with the following setting key:</p>
<pre><code class="language-yml" metastring="title=&quot;/etc/pterodactyl/config.yml&quot;">system:
  backup_directory: /path/to/backup/storage
</code></pre>
<h3 id="using-s3-backups">Using S3 Backups</h3>
<p>AWS S3 (or compatible storage) can be used to store remote or cloud-based backups. The following configuration options have to be set in the <code>.env</code> file or as environment variables in order to enable it:</p>
<pre><code class="language-bash"># Sets your panel to use s3 for backups
APP_BACKUP_DRIVER=s3

# Info to actually use s3
AWS_DEFAULT_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_BACKUPS_BUCKET=
AWS_ENDPOINT=
</code></pre>
<p>For some configurations, you might have to change your S3 URL from <code>bucket.domain.com</code> to <code>domain.com/bucket</code>. To accomplish this, add <code>AWS_USE_PATH_STYLE_ENDPOINT=true</code> to your <code>.env</code> file.</p>
<h4 id="multipart-upload">Multipart Upload</h4>
<p>The S3 backup is using the S3 multipart upload capabilities. In rare situations, you might want to adjust the size of a single part or the lifespan of the generated pre-signed URLs. The default part size is 5GB, and the default pre-signed URL lifespan is 60 minutes.</p>
<p>You can configure the maximal part size using the <code>BACKUP_MAX_PART_SIZE</code> environment variable. You must specify the size in bytes. To define the pre-signed URL lifespan, use the <code>BACKUP_PRESIGNED_URL_LIFESPAN</code> variable. The expected unit is minutes.</p>
<p>The following <code>.env</code> snippet configures 1GB parts and uses 120 minutes as the pre-signed URL lifespan:</p>
<pre><code class="language-bash">BACKUP_MAX_PART_SIZE=1073741824
BACKUP_PRESIGNED_URL_LIFESPAN=120
</code></pre>
<h4 id="storage-class">Storage Class</h4>
<p>Should you need to specify a storage class, use the <code>AWS_BACKUPS_STORAGE_CLASS</code> environment variable. Default option is <code>STANDARD</code> (S3 Standard).</p>
<p>The following <code>.env</code> snippet sets the class to <code>STANDARD_IA</code> (this is an example).</p>
<pre><code class="language-bash"># STANDARD_IA is an example.
AWS_BACKUPS_STORAGE_CLASS=STANDARD_IA
</code></pre>
<h2 id="reverse-proxy-setup">Reverse Proxy Setup</h2>
<p>When running Pterodactyl behind a reverse proxy, such as <a href="https://support.cloudflare.com/hc/en-us/articles/200170416-What-do-the-SSL-options-mean-">Cloudflare&#x27;s Flexible SSL</a>
or Nginx/Apache/Caddy, etc., you will need to make a quick modification to the Panel to ensure things continue to work as expected. By default, when using these reverse proxies,
your Panel will not correctly handle requests. You&#x27;ll most likely be unable to login or see security warnings in your browser console as it attempts to load insecure assets.
This is because the internal logic the Panel uses to determine how links should be generated thinks it is running over HTTP and not over HTTPS.</p>
<p>You will need to edit the <code>.env</code> file in the Panel&#x27;s root directory to contain <code>TRUSTED_PROXIES=*</code> at minimum. We highly suggest providing a specific IP address
(or comma-separated list of IPs) rather than allowing <code>*</code>. For example, if your proxy is running on the same machine as the server,
the chances are that something like <code>TRUSTED_PROXIES=127.0.0.1</code> will work for you.</p>
<h3 id="nginx-specific-configuration">NGINX Specific Configuration</h3>
<p>For Pterodactyl to properly respond to an NGINX reverse proxy, the NGINX <code>location</code> config must contain the following lines:</p>
<pre><code class="language-nginx">proxy_set_header X-Real-IP $remote_addr;
proxy_set_header Host $host;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_redirect off;
proxy_buffering off;
proxy_request_buffering off;
</code></pre>
<h3 id="cloudflare-specific-configuration">Cloudflare Specific Configuration</h3>
<p>If you&#x27;re using Cloudflare&#x27;s Flexible SSL you should set <code>TRUSTED_PROXIES</code> to contain <a href="https://www.cloudflare.com/ips/">their IP addresses</a>.
Below is an example of how to set this.</p>
<pre><code class="language-text" metastring="title=&quot;/etc/pterodactyl/config.yml&quot;">TRUSTED_PROXIES=173.245.48.0/20,103.21.244.0/22,103.22.200.0/22,103.31.4.0/22,141.101.64.0/18,108.162.192.0/18,190.93.240.0/20,188.114.96.0/20,197.234.240.0/22,198.41.128.0/17,162.158.0.0/15,104.16.0.0/13,104.24.0.0/14,172.64.0.0/13,131.0.72.0/22
</code></pre>
<h2 id="recaptcha">reCAPTCHA</h2>
<p>The Panel uses invisible reCAPTCHA to secure the login page from brute-force attacks. If the login attempt is considered suspicious, users may be required to perform a reCAPTCHA challenge.</p>
<h3 id="configuring-recaptcha">Configuring reCAPTCHA</h3>
<p>While we provide a global Site Key and Secret Key by default, we highly recommend changing it for your own setup.</p>
<p>You can generate your own keys in the <a href="https://www.google.com/recaptcha/admin">reCAPTCHA Admin Console</a>.</p>
<p>The keys can then be applied using the Settings in the admin panel. The reCAPTCHA settings can be found on the <strong>Advanced</strong> tab.</p>
<h3 id="disabling-recaptcha">Disabling reCAPTCHA</h3>
<admonition title="SECURITY WARNING" type="warning"><p>We do not recommend disabling reCAPTCHA. It is a security mechanism that makes it harder to perform brute-force attacks on user accounts.</p></admonition>
<p>If users have trouble logging in, or your Panel isn&#x27;t exposed to the internet, it can make sense to disable reCAPTCHA.</p>
<p>reCAPTCHA can easily be disabled using the admin panel. In the Settings, select the <strong>Advanced</strong> tab and set the <strong>Status</strong> of reCAPTCHA to <strong>disabled</strong>.</p>
<h4 id="editing-your-database">Editing your database</h4>
<p>If you cannot access your panel, you can modify the database directly using the following commands.</p>
<pre><code class="language-sql"># If using MariaDB (v11.0.0+)
mariadb -u root -p

# If using MySQL
mysql -u root -p
</code></pre>
<pre><code class="language-sql">UPDATE panel.settings SET value = &#x27;false&#x27; WHERE `key` = &#x27;settings::recaptcha:enabled&#x27;;
</code></pre>
<h2 id="2fa">2FA</h2>
<p>If possible you should use the panel to update your 2FA settings. If you can&#x27;t access your panel for what ever reason you can use the following steps.</p>
<h3 id="disable-2fa-requirement">Disable 2FA requirement</h3>
<pre><code class="language-sql"># If using MariaDB (v11.0.0+)
mariadb -u root -p

# If using MySQL
mysql -u root -p
</code></pre>
<pre><code class="language-sql">UPDATE panel.settings SET value = 0 WHERE `key` = &#x27;settings::pterodactyl:auth:2fa_required&#x27;;
</code></pre>
<h3 id="disable-2fa-for-a-specific-user">Disable 2FA for a specific user</h3>
<p>Run the following command in your <code>/var/www/pterodactyl</code> directory.</p>
<pre><code class="language-bash">php artisan p:user:disable2fa
</code></pre>
<h2 id="telemetry">Telemetry</h2>
<p>Since 1.11, the Panel collects anonymous metrics about the Panel and all connected nodes.
This feature is enabled by default, but can be disabled.</p>
<p>The data collected by this feature is not sold or used for advertising purposes.  Aggregate statistics
may be made public or shared with third-parties for the purposes of improving the software.</p>
<h3 id="how-does-it-work">How does it work?</h3>
<p>The Telemetry system works by first generating a random UUIDv4 identifier for the Panel installation.
This identifier is stored in the database so people load-balancing multiple Panel instances can still
have a unique identifier.  This identifier is then sent to a remote server, along the associated
telemetry data.  The telemetry data is collected every 24 hours, there is no ongoing collection
or local storage of the telemetry data, we collect the data right before we send it to the remote
server.</p>
<p>Currently, all telemetry collection logic is handled by the <a href="https://github.com/pterodactyl/panel/blob/1.0-develop/app/Services/Telemetry/TelemetryCollectionService.php#L53">TelemetryCollectionService</a>
on the panel.  This service is responsible for collecting all the data that is sent to the remote
server.</p>
<h3 id="what-data-is-collected">What data is collected?</h3>
<p>If you wish to see the full data that is collected, please look at the TelemetryCollectionService
(as linked above), or use the <code>php artisan p:telemetry</code> command to view the exact data that will
be sent to the remote server.</p>
<p>As of 2022-12-12, the data collected consists of:</p>
<ul>
<li>Unique identifier for the Panel</li>
<li>Version of the Panel</li>
<li>PHP version</li>
<li>Backup storage driver (S3, Local, etc.)</li>
<li>Cache driver (Redis, Memcached, etc.)</li>
<li>Database driver and version (MySQL, MariaDB, PostgreSQL, etc.)</li>
<li>Resources<!-- -->
<ul>
<li>Allocations<!-- -->
<ul>
<li>Total number</li>
<li>Total number of used allocations (assigned to a server)</li>
</ul>
</li>
<li>Backups<!-- -->
<ul>
<li>Total number</li>
<li>Sum of the total amount of bytes stored by backups</li>
</ul>
</li>
<li>Eggs<!-- -->
<ul>
<li>Total number</li>
<li><del>Map of egg UUIDs to the number of servers using that egg</del> (removed in 1.11.2)</li>
</ul>
</li>
<li>Locations<!-- -->
<ul>
<li>Total number</li>
</ul>
</li>
<li>Mounts<!-- -->
<ul>
<li>Total number</li>
</ul>
</li>
<li>Nests<!-- -->
<ul>
<li>Total number</li>
<li><del>Map of nest UUIDs to the number of servers using eggs in that nest</del> (removed in 1.11.2)</li>
</ul>
</li>
<li>Nodes<!-- -->
<ul>
<li>Total number</li>
</ul>
</li>
<li>Servers<!-- -->
<ul>
<li>Total number</li>
<li>Number of servers that are suspended</li>
</ul>
</li>
<li>Users<!-- -->
<ul>
<li>Total number</li>
<li>Number of users that are admins</li>
</ul>
</li>
</ul>
</li>
<li>Nodes<!-- -->
<ul>
<li>Node UUID</li>
<li>Version of Wings on the node</li>
<li>Docker<!-- -->
<ul>
<li>Version</li>
<li>Cgroups<!-- -->
<ul>
<li>Driver</li>
<li>Version</li>
</ul>
</li>
<li>Containers<!-- -->
<ul>
<li>Total</li>
<li>Running</li>
<li>Paused</li>
<li>Stopped</li>
</ul>
</li>
<li>Storage<!-- -->
<ul>
<li>Driver</li>
<li>Filesystem</li>
</ul>
</li>
<li>runc<!-- -->
<ul>
<li>Version</li>
</ul>
</li>
</ul>
</li>
<li>System<!-- -->
<ul>
<li>Architecture (<code>amd64</code>, <code>arm64</code>, etc.)</li>
<li>CPU Threads</li>
<li>Memory Bytes</li>
<li>Kernel Version</li>
<li>Operating System (Debian, Fedora, RHEL, Ubuntu, etc.)</li>
<li>Operating System Type (bsd, linux, windows, etc.)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="how-is-the-data-stored">How is the data stored?</h3>
<p>Currently, the data is stored with Cloudflare, we ingest all telemetry data with a Worker which does
basic processing such as validation and then inserts it into Cloudflare D1.  Right now, there is not
an API or visualization for any of the data collected, and it can only be manually queried.  Only
Matthew is able to query the data at this time, but we are working on alternatives to make this data
more accessible.</p>
<h3 id="why">Why?</h3>
<p>The primary reason for collecting this data is to help us make better decisions about the future of
this software.  With the release of 1.11, the minimum PHP version requirement jumped from 7.4 to 8.0,
however, we wanted to add a feature that required PHP 8.1 which would&#x27;ve made the version requirement
jump larger and potentially cause issues for some users.  By collecting this data, we can hopefully
have more insight to how changes like this will affect the community and make better decisions in the
future.  This is especially important for information like the architecture, kernel version, and
operating system nodes are using.  For example, we want to utilize a feature that is only present in
some filesystems, but we have no idea how many people are using those filesystems, so we cannot
determine if it&#x27;s worth the effort to implement.</p>
<p>Some of the data is not as useful for making decisions, but is still useful for us to know.
For example, have you ever wondered how many Panel instances there are?  How many servers are being
ran across all of those instances?  How many users are using the Panel?  How many of those users are
admins?  How many servers are using a specific egg?  How many servers are using a specific nest?
All of these questions can be answered by the data we collect, and can help us and the community
better understand how the software is being used.</p>
<p>If you have any questions about the data we collect, please feel free to reach out to us on Discord.
Our goal is to be as transparent as possible, and we want to make sure that the community understands
what we are doing and why.</p>
<h3 id="enabling-telemetry">Enabling Telemetry</h3>
<p>Telemetry is enabled by default, if you want to enable it after disabling it, edit your <code>.env</code> file
and either remove the <code>PTERODACTYL_TELEMETRY_ENABLED</code> line, or set it to <code>true</code>.</p>
<pre><code class="language-ini">PTERODACTYL_TELEMETRY_ENABLED=true
</code></pre>
<p>You may also use the <code>php artisan p:environment:setup</code> command to enable telemetry, optionally with
the <code>--telemetry</code> flag for a non-interactive setup.</p>
<h3 id="disabling-telemetry">Disabling Telemetry</h3>
<p>To disable telemetry, edit your <code>.env</code> file and set <code>PTERODACTYL_TELEMETRY_ENABLED</code> to <code>false</code>.</p>
<pre><code class="language-ini">PTERODACTYL_TELEMETRY_ENABLED=false
</code></pre>
<p>You may also use the <code>php artisan p:environment:setup</code> command to disable telemetry, optionally with
the <code>--telemetry=false</code> flag for a non-interactive setup.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/QuintenQVD0/pterodactyl-documentation/blob/main/docs/documentation/panel/additional_configuration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pterodactyl-documentation/docs/panel/webserver/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Webserver Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pterodactyl-documentation/docs/panel/updating/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Updating the Panel</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#backups" class="table-of-contents__link toc-highlight">Backups</a><ul><li><a href="#using-local-backups" class="table-of-contents__link toc-highlight">Using Local Backups</a></li><li><a href="#using-s3-backups" class="table-of-contents__link toc-highlight">Using S3 Backups</a></li></ul></li><li><a href="#reverse-proxy-setup" class="table-of-contents__link toc-highlight">Reverse Proxy Setup</a><ul><li><a href="#nginx-specific-configuration" class="table-of-contents__link toc-highlight">NGINX Specific Configuration</a></li><li><a href="#cloudflare-specific-configuration" class="table-of-contents__link toc-highlight">Cloudflare Specific Configuration</a></li></ul></li><li><a href="#recaptcha" class="table-of-contents__link toc-highlight">reCAPTCHA</a><ul><li><a href="#configuring-recaptcha" class="table-of-contents__link toc-highlight">Configuring reCAPTCHA</a></li><li><a href="#disabling-recaptcha" class="table-of-contents__link toc-highlight">Disabling reCAPTCHA</a></li></ul></li><li><a href="#2fa" class="table-of-contents__link toc-highlight">2FA</a><ul><li><a href="#disable-2fa-requirement" class="table-of-contents__link toc-highlight">Disable 2FA requirement</a></li><li><a href="#disable-2fa-for-a-specific-user" class="table-of-contents__link toc-highlight">Disable 2FA for a specific user</a></li></ul></li><li><a href="#telemetry" class="table-of-contents__link toc-highlight">Telemetry</a><ul><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work?</a></li><li><a href="#what-data-is-collected" class="table-of-contents__link toc-highlight">What data is collected?</a></li><li><a href="#how-is-the-data-stored" class="table-of-contents__link toc-highlight">How is the data stored?</a></li><li><a href="#why" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#enabling-telemetry" class="table-of-contents__link toc-highlight">Enabling Telemetry</a></li><li><a href="#disabling-telemetry" class="table-of-contents__link toc-highlight">Disabling Telemetry</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"><li class="footer__item">
                <a>
                  <img src="https://raw.githubusercontent.com/QuintenQVD0/pterodactyl-documentation/main/static/img/banner_logo.png" alt="" width="300" height="72">
                </a>
                <p>
                Since 2015 PterodactylÂ® has been delivering robust, performant, and secure software that allows individuals, networks, and hosting companies to run game servers at scale; easily. Best of all? No exorbitant monthly costs.<br><br>
                Take the plunge today and discover why thousands of users trust PterodactylÂ® to manage their game servers. 
                </p>
              </li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pterodactyl/panel" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/matthewpi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://paypal.me/PterodactylSoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://discord.gg/pterodactyl" target="_blank" rel="noreferrer noopener" aria-label="">
                  <img src="https://raw.githubusercontent.com/QuintenQVD0/pterodactyl-documentation/main/static/img/discord.png" alt="" width="280" height="85">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">MIT Licensed | Pterodactyl Â© 2015-2024 Dane Everitt & contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>